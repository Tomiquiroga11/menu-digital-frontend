<h2>Gestionar Mis Categorías</h2>

<div class="form-card">
  <h3>{{ isEditing ? 'Editar Categoría' : 'Crear Nueva Categoría' }}</h3>
  
  <form [formGroup]="categoriaForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nombre">Nombre de la Categoría:</label>
      <input id="nombre" type="text" formControlName="nombre" placeholder="Ej. Bebidas, Postres...">
      
      <div *ngIf="categoriaForm.get('nombre')?.invalid && categoriaForm.get('nombre')?.touched" class="error-msg">
        <small>El nombre es requerido.</small>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="categoriaForm.invalid">
        {{ isEditing ? 'Guardar Cambios' : 'Crear' }}
      </button>

      <button type="button" *ngIf="isEditing" (click)="cancelEdit()" class="btn-cancel">
        Cancelar
      </button>
    </div>
  </form>
</div>

<hr>

<h3>Mis Categorías Existentes</h3>

<div *ngIf="categorias.length === 0" class="empty-state">
  <p>Aún no has creado ninguna categoría.</p>
</div>

<ul class="category-list" *ngIf="categorias.length > 0">
  <li *ngFor="let cat of categorias">
    <div class="cat-info">
      <span class="cat-name">{{ cat.nombre }}</span>
    </div>
    
    <div class="cat-actions">
      <button (click)="onEdit(cat)" class="btn-edit">
        Editar
      </button>
      
      <button (click)="onDelete(cat.id)" class="btn-delete">
        Borrar
      </button>
    </div>
  </li>
</ul>